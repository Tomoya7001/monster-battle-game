# 課題・不整合リスト

**作成日**: 2025-12-22  
**最終更新**: 2025-12-22  
**ステータス**: 調査中

---

## 1. アビリティシステムの不整合

### 1.1 共通アビリティ数の不一致

| ソース | 数 |
|--------|-----|
| ability_system.md (v4.1) | 20 |
| abilities_masters_data_phase1.json (v10.3) | 23 |

**差異の原因:**
JSONでv10.2に追加された以下3つがドキュメントに未反映:
- `com_021`: 搾取の囁き
- `com_022`: 魔力の盾
- `com_023`: 魔力吸収

### 1.2 合計アビリティ数の不一致

| ソース | 数 |
|--------|-----|
| ability_system.md (v4.1) | 87 |
| abilities_masters_data_phase1.json summary | 81 |
| JSON実際の計算 | 90 |

**問題点:**
1. ドキュメントとJSONの数値が異なる
2. JSONの`summary.total_abilities: 81`は計算間違い

**正しい計算（JSON基準）:**
```
共通: 23
レア: 20
種族: 7
専用（幻種）: 7
専用（希少種）: 11
専用（一般種）: 22
合計: 90
```

### 1.3 対応方針（未決定）

- [ ] ability_system.md を JSON に合わせて更新
- [ ] JSON の summary を正しい値に修正
- [ ] どちらが正とするか確認が必要

---

## 2. スキルシステムの不整合

### 2.1 奥義コスト「統一」の矛盾

**skill_system.md (v2.1) の記載:**
> 全モンスターの奥義コストは5に統一

**実際の状況（JSONファイル）:**

| カテゴリ | 奥義コスト |
|----------|-----------|
| 幻種 | 5（テュールのみ**6**） |
| 希少種 | 4〜5（混在） |
| 一般種 | 4〜5（混在） |

**具体例（統一されていないもの）:**
- 竜帝テュール: コスト**6**、威力S(150) ← 統一されていない
- 白竜ヴルム: コスト**4**
- 竜姫エヴァ: コスト**4**
- 夢魔リリス: コスト**4**
- 歌姫ルリア: コスト**4**
- 一般種の大半: コスト**4**

**疑問:**
- 「統一」とはどのレベルの統一か？（全体？カテゴリ別？）
- テュールのコスト6は意図的か、更新漏れか？

### 2.2 威力ランクSS/SSSの削除漏れ

**skill_system.md (v2.0) の記載:**
> SS、SSSランクは削除（シンプル化）

**実際にSS/SSSが残っている技:**

| 技名 | 威力 | ファイル |
|------|------|----------|
| オーバーヒート（メカノイド種族技） | SS (200) | skill_masters_universal.json |
| 女神召喚（ノエル専用） | SS (200) | skill_masters_common.json |
| 暴君の蹂躙（テュール奥義） | S (150) | skill_masters_legendary.json |

**疑問:**
- これらは意図的に残しているのか？
- 削除対象なのか？

### 2.3 報復の威力倍率の不一致

| ソース | 後攻時倍率 |
|--------|-----------|
| skill_system.md | ×2.0倍 |
| skill_masters_universal.json | ×2.0倍 |
| skill_list_v9.4.md | ×1.5倍 |

**正しい値の確認が必要**

### 2.4 カウンター戦略スキル・属性物理技のJSON不在

**skill_list_v9.4.md (v9.5) に記載あり:**
- カウンター戦略スキル4種（力量転嫁、魔力反射、撃砕衝、侵蝕の刻印）
- 属性物理技7種（紅蓮拳、氷砕拳、雷鳴拳、旋風拳、剛岩拳、聖拳、冥府拳）
- 共通技4種（猛襲、連撃、精神統一、活力賦活）

**JSONファイルにこれらの定義が見当たらない**

**疑問:**
- これらは実装済みか？
- どのJSONファイルに追加すべきか？

### 2.5 技数の整合性

**skill_list_v9.4.md の統計:**
```
幻種専用技: 29
希少種専用技: 38
一般種専用技: 83
共有技: 14
種族専用技: 7
限定専用技: 5
可変コスト技: 16
固定攻撃技: 18 (+3)
サポート技: 22+ (+2)
カウンター戦略技: 4 (v9.4新規)
属性物理技: 7 (v9.4新規)
サプライズ技: 8
総計: 約250技 (+15)
```

**JSONファイルの合計:**
```
skill_masters_common.json: 83
skill_masters_legendary.json: 29
skill_masters_rare.json: 38
skill_masters_shared.json: 14
skill_masters_universal.json: 71
合計: 235技
```

**差異: 約15技**
- v9.4新規の15技がJSONに未反映の可能性

### 2.6 バージョン番号の混乱

| ファイル | バージョン |
|----------|-----------|
| skill_list_v9.4.md | 内容はv9.5 |
| skill_system.md | v2.1 |
| skill_masters_*.json | v10.0.0 |
| skill_assignments_v6.json | v10.0.0 |

**問題:**
- バージョン体系が統一されていない
- ファイル名とバージョンの不一致（v9.4.md → v9.5）

---

## 3. ファイル間の相互参照不整合

### 3.1 skill_system.mdの奥義一覧とJSONの差異

**skill_system.md の奥義一覧（希少種）:**
| モンスター | 奥義名 | コスト | 威力 |
|-----------|--------|--------|------|
| 機竜リント | ジェットストリーム | 5 | A |

**skill_masters_rare.json:**
| モンスター | 奥義名 | コスト | 威力 |
|-----------|--------|--------|------|
| メカ白竜リント | ジェットストリーム | 5 | A |

**差異:** 名前が「機竜リント」vs「メカ白竜リント」

### 3.2 モンスター名の表記ゆれ

確認が必要な表記ゆれ:
- 機竜リント / メカ白竜リント
- 雷神ラム / 雷霆ラム

---

## 4. 未調査項目

- [ ] モンスターデータの整合性確認
- [ ] 装備システムの整合性確認
- [ ] バトルシステムとスキル効果の整合性確認
- [ ] ダメージ計算式の検証

---

## 5. 優先度付け（提案）

### 高優先度
1. 奥義コスト統一の方針確定
2. v9.4新規技のJSON追加
3. SS/SSS威力の方針確定

### 中優先度
4. アビリティ数の修正
5. 報復の倍率確定
6. バージョン番号の整理

### 低優先度
7. 表記ゆれの統一
8. ドキュメントの更新

---

## 3. モンスターデータの不整合

### 3.1 JSONバージョン不一致

| ファイル | バージョン | 状況 |
|----------|-----------|------|
| monster_list_complete.md | v9.5 | ドキュメント最新 |
| monster_masters_data_legendary.json | **v9.3** | ⚠️ 古い（v9.5対応必要） |
| monster_masters_data_rare.json | v9.5 | ✓ 最新 |
| monster_masters_data_common_a.json | **v9.4** | ⚠️ 古い |
| monster_masters_data_common_b.json | v9.5 | ✓ 最新 |
| monster_masters_data_common_c.json | v9.5 | ✓ 最新 |

### 3.2 モンスター名の表記ゆれ

| ID | ドキュメント表記 | JSON表記 |
|----|-----------------|----------|
| mon_008 | 機竜リント | メカ白竜リント |
| mon_011 | 雷神ラム（一部） | 雷霆ラム |

### 3.3 奥義データの不整合（スキルJSONとモンスターJSON間）

**skill_masters_legendary.json と monster_masters_data_legendary.json の比較:**

| モンスター | スキルJSON | モンスターJSON |
|-----------|-----------|---------------|
| 竜帝テュール | コスト**6**、威力**S(150)** | コスト**5**、威力**A** |
| 三大天ミカ | コスト5、威力A | コスト5、威力A ✓ |

**問題:** テュールの奥義が2つのJSONで異なる値

### 3.4 アビリティ効果の変更履歴と実装の不整合

**common_b.json のchangelog記載:**
> v9.3: シルフィ変更 風の加護: 速さ↑2→**サポート技で5%回復**

**実際のJSON:**
```json
"風の加護": "登場時、自分の素早さ↑1"
```

**問題:** changelogに記載された変更が実際のデータに反映されていない（または別の変更が行われた）

### 3.5 モンスター統計

**ファイル別モンスター数:**

| カテゴリ | ファイル | 体数 | 合計 |
|---------|---------|:----:|:----:|
| 幻種 | legendary.json | 7 | 7 |
| 希少種 | rare.json | 10 | 10 |
| 一般種A | common_a.json | 7 | - |
| 一般種B | common_b.json | 7 | - |
| 一般種C | common_c.json | 8 | 22 |
| **総計** | | | **39** |

✓ ドキュメントの39体と一致

### 3.6 モンスターID配置の確認

| カテゴリ | ID範囲 | 備考 |
|---------|--------|------|
| 幻種 | mon_001〜007 | ✓ 連番 |
| 希少種 | mon_008〜016, **mon_039** | ⚠️ レオンのみ飛び番 |
| 一般種 | mon_017〜038 | ✓ 連番 |

**備考:** レオン（mon_039）は後から追加されたため飛び番になっている。機能的には問題なし。

---

## 4. ファイル間の相互参照不整合

### 4.1 skill_system.mdの奥義一覧とJSONの差異

**skill_system.md の奥義一覧（希少種）:**
| モンスター | 奥義名 | コスト | 威力 |
|-----------|--------|--------|------|
| 機竜リント | ジェットストリーム | 5 | A |

**skill_masters_rare.json:**
| モンスター | 奥義名 | コスト | 威力 |
|-----------|--------|--------|------|
| メカ白竜リント | ジェットストリーム | 5 | A |

**差異:** 名前が「機竜リント」vs「メカ白竜リント」

### 4.2 モンスター名の表記ゆれ

確認が必要な表記ゆれ:
- 機竜リント / メカ白竜リント
- 雷神ラム / 雷霆ラム

---

## 5. 未調査項目

- [x] モンスターデータの整合性確認 ← **完了**
- [ ] 装備システムの整合性確認
- [ ] バトルシステムとスキル効果の整合性確認
- [ ] ダメージ計算式の検証

---

## 6. 優先度付け（更新版）

### 高優先度
1. **テュールの奥義不整合修正**（スキルJSON vs モンスターJSON）
2. 奥義コスト統一の方針確定（全体5統一 or カテゴリ別）
3. v9.4新規技15種のJSON追加
4. 幻種JSONのv9.5更新

### 中優先度
5. SS/SSS威力の方針確定
6. アビリティ数の修正
7. 報復の倍率確定
8. シルフィの「風の加護」効果確認

### 低優先度
9. バージョン番号の整理
10. 表記ゆれの統一（機竜リント/メカ白竜リント）
11. ドキュメントの更新

---

## 変更履歴

| 日付 | 内容 |
|------|------|
| 2025-12-22 | 初版作成、アビリティシステム不整合を記録 |
| 2025-12-22 | スキルシステム不整合を追加 |
| 2025-12-22 | モンスターデータ不整合を追加、優先度を更新 |
